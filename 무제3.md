# EggTime (ê°œì¸ ì¶œì‹œí”„ë¡œì íŠ¸)

### 2022.09.11 ~ 2022.10.07 (26ì¼ ì•½ 4ì£¼)

|                           ì•±ì•„ì´ì½˜                           | ìŠ¤í¬ë¦°ìƒ·                                                     |
| :----------------------------------------------------------: | :----------------------------------------------------------- |
| ![Frame4icon3](https://user-images.githubusercontent.com/55547933/208235626-283a4597-8285-4583-a6ba-629bd12cb36a.png) | <img src="https://user-images.githubusercontent.com/55547933/208235602-7fc6c07e-1a0b-44e4-b2b7-75fa27dce441.jpg" alt="merge_from_ofoct" style="zoom:80%;" /> |
|                             ê°œìš”                             | ë‚´ìš©ê³¼ ì´ë¯¸ì§€ë¥¼ ë‹´ì•„ íƒ€ì„ ìº¡ìŠì„ ë¬»ìœ¼ë©´ ì§€ë„ìœ„ì— ë§ˆì»¤ê°€ ì°íˆëŠ”ë° <br />ì¼ì • ê¸°ê°„ì´í›„ì—ë§Œ  ê°œë´‰ ê°€ëŠ¥í•œ ì¶”ì–µì˜ íƒ€ì„ìº¡ìŠ ì•± í”„ë¡œì íŠ¸ |
|                          ë””ìì¸íŒ¨í„´                          | MVC                                                          |
|                             í™”ë©´                             | UIKit, SnapKit, AutoLayout                                   |
|                        ì˜ì¡´ì„±ê´€ë¦¬ë„êµ¬                        | CocoaPod , Swift Package Manager                             |
|                             ì„œë²„                             | Firebase Crashlytics, Firebase Analytics                     |
|                         ë°ì´í„°ë² ì´ìŠ¤                         | Realm                                                        |
|                          ë””ë²„ê¹…ìŠ¤í‚¬                          | LLDB                                                         |
|                          ë¼ì´ë¸ŒëŸ¬ë¦¬                          | kingfisher, Zip, NMapsMap                                    |
|                             í˜‘ì—…                             | Github, Figma                                                |
|                             ì°¸ê³                              | [1.ê°œë°œì¼ì •](https://www.notion.so/9277d510b520433ab7d323c1ca0323a6?v=da1589e735164c78ad94d3f324080090) <br />[2.íšŒê³ ](https://hotsanit.tistory.com/91) <br />[3.ì•±ìŠ¤í† ì–´](https://apps.apple.com/kr/app/eggtime-ì¶”ì–µì„-ì €ì¥í•˜ëŠ”-íƒ€ì„ìº¡ìŠ/id1645004650) |



## ğŸŸ¢  ê¸°ìˆ  ëª…ì„¸

- **CocoaPods** ì‚¬ìš©ì‹œ í•„ìš”í•œ **Podfile ì‚¬ìš©ë²•, Vimëª…ë ¹ì–´, CocoaPod ë²„ì „ê´€ë¦¬** ì— ëŒ€í•œ ëŒ€ì‘
- **SnapKit** (CodeBase) ìœ¼ë¡œ **AutoLayout** ì ìš©
- **Firebase Cloud Messaging** ì„ í™œìš©í•˜ì—¬ **Push notification** ì„ ë³´ë‚´ ì•± ê´€ë ¨ ê³µì§€ì‚¬í•­ ì•Œë¦¼
- **Firebase analytics**ë¥¼ í†µí•´ ìœ ì €ê°€ ì˜¤ë˜ ë¨¸ë¬´ëŠ” í™”ë©´ê³¼ ìì£¼ëˆ„ë¥´ëŠ” ë²„íŠ¼ì˜ ì´ë²¤íŠ¸ **í†µê³„ ë¶„ì„**
- **Repository íŒ¨í„´**ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ **ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§**ê³¼ **ë°ì´í„° ë¡œì§ ë¶„ë¦¬**
- **Realm**ì—ì„œ Dataë¥¼ **CRUDì ìš©, PKë¡œ Dataì¤‘ë³µë°©ì§€ , ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ Realm ë²„ì „ê´€ë¦¬**
- ì´ë¯¸ì§€ ìì²´ í¬ê¸°ë³„ ëŒ€ì‘ì„ ìœ„í•œ **UIImage Resizing**  ëŒ€ì‘
- **Timer**ë¥¼ í™œìš©í•˜ì—¬ ìº¡ìŠì´ ì˜¤í”ˆê¹Œì§€ ë‚¨ì€ì‹œê°„ **ì‹¤ì‹œê°„ ê°±ì‹ **
- **LocalNotification**ì„ í†µí•´ ì•Œë¦¼ ê¶Œí•œì„¤ì • ë¶„ê¸°ì²˜ë¦¬
- **LLDB**ì˜ p,po,watchpoint ë¥¼ í™œìš©í•œ **ë³€ìˆ˜ì¶”ì ** ë° Expressionì„ í™œìš©í•˜ì—¬ **ë³€ìˆ˜ë“¤ì„ í…ŒìŠ¤íŠ¸**í•´ë´„ìœ¼ë¡œì„œ **ë¹Œë“œì‹œê°„ ìµœì†Œí™”**
- **NMapsMap**ì—ì„œ **ê³µì‹ë¬¸ì„œ**ë¥¼ í†µí•´ í•¸ë“¤ëŸ¬, ë§ˆì»¤, ì¹´ë©”ë¼ì´ë™, ì˜¤ë²„ë ˆì´ ê¸°ëŠ¥ìœ¼ë¡œ **ì»¤ìŠ¤í…€í™”**



## ğŸ”´ ê³ ë¯¼í•œ ë‚´ìš© ë° íŠ¸ëŸ¬ë¸” ìŠˆíŒ…


<details> <summary>ì´ìŠˆ 1. CLLocationManager ê´€ë ¨ ì˜¤ë¥˜</summary><br>
ğŸ”´ ê³ ë¯¼í•œ ì˜ì—­ <br><br>
<img width="957" alt="ìŠ¤í¬ë¦°ìƒ· 2022-12-19 ì˜¤í›„ 4 12 51" src="https://user-images.githubusercontent.com/55547933/208649676-f824ac7c-6883-496a-87dd-df9ee79a528f.png"><br><br>


ğŸ”µ í•´ê²°<br><br>
[ì‹œë„ 1]<br>
ì‹œìŠ¤í…œ ì„¤ì • ê´€ë ¨ë“¤ì„ main ì—ì„œ ì²˜ë¦¬ë¥¼í•˜ëŠ”ê²ƒì€ main ì“°ë ˆë“œì— ë¶€ë‹´ì„ ì¤„ìˆ˜ìˆìœ¼ë¯€ë¡œ global Queueë¡œ ì²˜ë¦¬í•˜ëŠ”ê²Œ ì í•©í•˜ê¸°ë–„ë¬¸ì— global().asyncë¡œ ì²˜ë¦¬ë¥¼ í•˜ê²Œë˜ì—ˆë‹¤.<br>

```swift
// global().async ë¡œ ë¹„ë™ê¸°ì²˜ë¦¬
DispatchQueue.global().async {
      if CLLocationManager.locationServicesEnabled() {
           print("ìœ„ì¹˜ ì„œë¹„ìŠ¤ on ìƒíƒœ")
            self.locationManager.startUpdatingLocation()
      } else {
            print("ìœ„ì¹˜ ì„œë¹„ìŠ¤ Off ìƒíƒœ")
      }     
}
```

[ì‹œë„ 2]
<br>
global().asyncë¡œ í•´ê²°ì´ê°€ëŠ¥í•˜ë©´ Async/Awaitìœ¼ë¡œ í•´ê²°ì´ ê°€ëŠ¥í•˜ë‹¤ê³  ìƒê°í•˜ì˜€ë‹¤ .<br>

```swift
func locationServicesEnabled() async throws -> Void {
    CLLocationManager.locationServicesEnabled()
}

Task { [weak self] in
    if ((try await self?.locationServicesEnabled()) != nil) {
        self?.locationManager.startUpdatingLocation()
        return
    }
}
```

</details>


<details> <summary>ì´ìŠˆ 2. Repository íŒ¨í„´ìœ¼ë¡œ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ë¡œì§ ë¶„ë¦¬</summary><br>
ğŸ”´ ê³ ë¯¼í•œ ì˜ì—­ <br><br>
ViewControllerë§ˆë‹¤ Realmì´ ì¤‘ë³µì½”ë“œë¡œ ë“¤ì–´ê°€ê¸°ë–„ë¬¸ì— ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ë ˆì´ì–´ë¥¼ ë¶„ë¦¬í• í•„ìš”ì„±ì„ ëŠë‚Œ<br><br>


ğŸ”µ í•´ê²°<br><br>
[ì‹œë„ 1]<br>
ViewControllerë§ˆë‹¤ Realmì´ ì¤‘ë³µì½”ë“œë¡œ ë“¤ì–´ê°€ê¸°ë–„ë¬¸ì— ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ë ˆì´ì–´ë¥¼ ë¶„ë¦¬í• í•„ìš”ì„±ì„ ëŠë‚Œ<br>

```swift
// repository.swift 
protocol RealmRepositoryType {
    func fetch() -> Results<EggTime>
}
class RealmRepository: RealmRepositoryType {
  let localRealm = try! Realm()
    
    func fetch() -> Results<EggTime> {
        return localRealm.objects(EggTime.self)
    }
    lazy var tasks: Results<EggTime>! = self.fetch()
}
```

<br>
ë‹¤ìŒì€ repository.swift íŒŒì¼ì˜ ì¼ë¶€ë¶„ìœ¼ë¡œ ì—¬ëŸ¬ ViewControllerì—ì„œ  í˜¸ì¶œí•˜ì—¬ ì‚¬ìš©í•˜ì˜€ë‹¤.<br>
ì´ë¥¼ ì»ì„ë–„ ì¥ì ì´ <br>
1.ViewControllerëŠ” ì´ì œ ë¡œì»¬ì´ë“  ì™¸ë¶€ DBì—ì„œ ê°€ì ¸ì˜¤ëŠ”ì§€ ì‹ ê²½ì“°ì§€ì•Šê³  ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì— ì§‘ì¤‘í• ìˆ˜ìˆë‹¤.<br>
2.ì¼ê´€ëœ ì¸í„°í˜ì´ìŠ¤ ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ìš”ì²­í• ìˆ˜ìˆìœ¼ë¯€ë¡œ ì½”ë“œì˜ ì˜¤ë¥˜ë‚˜ ì¤‘ë³µë˜ëŠ”ìš”ì†Œê°€ ì¤„ì–´ë“¤ìˆ˜ìˆë‹¤. 
</details>




<details> <summary>ì´ìŠˆ3. ì¹´ë©”ë¼ ë° ì•¨ë²”ì‚¬ì§„ ì˜ ì´ë¯¸ì§€ë¥¼ DBì— ì €ì¥í• ë•Œ ì´ë¯¸ì§€íƒ€ì… ì €ì¥í• ë–„ íŒŒì¼í¬ê¸°ê°€ ì»¤ì§€ëŠ” ë¬¸ì œ </summary><br>
ğŸ”´ ì´ìŠˆ <br><br>
ì´ë¯¸ì§€ë¥¼ ì €ì¥í• ë–„ DBì— imageíƒ€ì…ìœ¼ë¡œ ì €ì¥í•˜ë©´ DBì— ì´ë¯¸ì§€í¬ê¸°ë§Œí¼ DBì— ë¶€í•˜ë¥¼ ì¤„ì„œìˆê¸°ë–„ë¬¸ì— ì í•©í•œ ë°©ë²•ì„ ê³ ë¯¼í•´ë³´ì•˜ë‹¤.<br><br>


ğŸ”µ í•´ê²°<br><br>
[ì‹œë„ 1]<br>
DBì—ëŠ” ì´ë¯¸ì§€íŒŒì¼ëª…ì¸ Stringíƒ€ì…ë§Œ ì €ì¥í•˜ê³  ì‹¤ì œ ì´ë¯¸ì§€ëŠ” FileManagerë¥¼ ì‚¬ìš©í•˜ì—¬ DocumentDirectoryì— ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í•´ê²°í•´ë³´ì•˜ë‹¤.<br>

```swift
func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : Any]) {
        
        let mediaType = info[UIImagePickerController.InfoKey.mediaType] as! NSString
        if mediaType.isEqual(to: kUTTypeImage as NSString as String) {
            let selectImage = info[UIImagePickerController.InfoKey.originalImage] as? UIImage
            if (UIImagePickerController.isSourceTypeAvailable(.camera)) {
                let imgName = UUID().uuidString+".jpeg"
                let documentDirectory = NSTemporaryDirectory()
                let localPath = documentDirectory.appending(imgName)
                let photoURL = URL.init(fileURLWithPath: localPath)
                if imageArrayUIImage.count == tag! {
                    imageArrayString.append(imgName)
                    imageArrayUIImage.append(selectImage!)
                } else{
                    imageArrayString[tag!] = imgName
                    imageArrayUIImage[tag!] = selectImage!
                }
                writeView.collectionview.reloadData()
                picker.dismiss(animated: true, completion: nil)
            }
        else if (UIImagePickerController.isSourceTypeAvailable(.photoLibrary)) {
            let imageUrl=info[UIImagePickerController.InfoKey.imageURL] as? NSURL
            let imageName=imageUrl?.lastPathComponent//íŒŒì¼ì´ë¦„
            if imageArrayUIImage.count == tag! {
                imageArrayString.append(imageName!)
                imageArrayUIImage.append(selectImage!)
            } else{
                imageArrayString[tag!] = imageName!
                imageArrayUIImage[tag!] = selectImage!
            }
            writeView.collectionview.reloadData()
            dismiss(animated: true)
        }
        
            //UIImagePickerController5: ì·¨ì†Œë²„íŠ¼ í´ë¦­ì‹œ
            func imagePickerControllerDidCancel(_ picker: UIImagePickerController) {
                dismiss(animated: true)
            }
        }
    }

```

</details>

<details> <summary>ì´ìŠˆ4. Swift ì—ì„œ Listíƒ€ì…ì´ ì—†ì–´ì„œ Realmì˜ Listíƒ€ì… ì‚¬ìš©ì‹œ ë¬¸ì œ ìƒí™© </summary><br>
ğŸ”´ ê³ ë¯¼í•œ ë¶€ë¶„ <br><br>
ì´ë¯¸ì§€ë¥¼ ì €ì¥í• ë–„ DBì— imageíƒ€ì…ìœ¼ë¡œ ì €ì¥í•˜ë©´ DBì— ì´ë¯¸ì§€í¬ê¸°ë§Œí¼ DBì— ë¶€í•˜ë¥¼ ì¤„ì„œìˆê¸°ë–„ë¬¸ì— ì í•©í•œ ë°©ë²•ì„ ê³ ë¯¼í•´ë³´ì•˜ë‹¤.<br><br>


ğŸ”µ í•´ê²°<br><br>
[ì‹œë„ 1]<br>
ì—¬ëŸ¬ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ë ¤ê³  Realmì—ì„œ List<Type> ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼í•˜ëŠ”ë° <br>
ì €ê°™ì€ê²½ìš° ì´ë¯¸ì§€ë¥¼ documentì— ì €ì¥í•œ ì´ë¯¸ì§€ì˜ ì´ë¦„ì„ ì €ì¥í•˜ê¸°ìœ„í•´  List<String>ìœ¼ë¡œ ë§Œë“¤ë ¤ê³ í–ˆë‹¤. <br>
í•˜ì§€ë§Œ Listíƒ€ì…ì€ swiftì—ì„œ ì§€ì›í•´ì£¼ì§€ì•Šìœ¼ë¯€ë¡œ Arrayíƒ€ì…ìœ¼ë¡œ ì‹œë„í•˜ë‹¤ê°€ íƒ€ì…ì´ ì•ˆë§ì•„ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤. <br>

```swift
class BlogPost: Object {
  @objc var title = ""
  let tags = List<String>()

  convenience init(title: String, tag: String) {
    self.init()
    self.title = title
    self.tags.append(tag)
  }
}

```

<br>
ìœ„ì˜ ì°¸ê³ ë§í¬ ì˜ˆì‹œì½”ë“œ ì—ì„œ List<String> íƒ€ì…ì„ ë§Œë“¤ì–´ì„œ ì´ˆê¸°í™”í•˜ëŠ” ë¶€ë¶„ì—ì„œ appendë¥¼ í•˜ëŠ”ê²ƒì„ë³´ê³  ì•„ì´ë””ì–´ë¥¼ ì°¾ì•˜ë‹¤.
</details>

<details> <summary>ì´ìŠˆ5. ê¸°ì¡´ì˜ tableView â‡’ section snapshots, list configurationë¡œ ë¦¬íŒ©í† ë§ </summary><br>
ğŸ”´ ê³ ë¯¼í•œ ë¶€ë¶„ <br><br>
ê¸°ì¡´ì˜ í…Œì´ë¸”ë·° ë§ê³  ë‹¤ë¥¸ë°©ë²•ìœ¼ë¡œ ì‹œë„!<br><br>
<br>
ğŸ”µ í•´ê²°<br><br>
í˜„ì¬ ì• í”Œì—ì„œ í…Œì´ë¸”ë·° ë¥¼ ëŒ€ì‹ í•´ì„œ iOS 14.0ì´í›„ ë‚˜ì˜¨ section  snapshots, list configurationìœ¼ë¡œ ìœ¼ë¡œ ë¦¬íŒ©í† ë§ ì‹œë„ <br>


```swift
// SettingView.swift
    let collectionview : UICollectionView = {
        let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),
                                              heightDimension: .fractionalHeight(1.0))
        let item = NSCollectionLayoutItem(layoutSize: itemSize)
        
        let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),
                                               heightDimension: .absolute(44))
        let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize,
                                                       subitems: [item])
        let section = NSCollectionLayoutSection(group: group)
        let layout = UICollectionViewCompositionalLayout(section: section)
        let spacing : CGFloat = 8
        let cv = UICollectionView(frame: .zero, collectionViewLayout: layout)
        return cv
    }()
```

```swift
//SettingViewController.swift
class SettingViewController: BaseViewController {
    private var dataSource: UICollectionViewDiffableDataSource<Int,String>!
}

extension SettingViewController {
    private func createLayout() -> UICollectionViewLayout {
        var config = UICollectionLayoutListConfiguration(appearance: .insetGrouped)
        config.backgroundColor = .clear
        let layout = UICollectionViewCompositionalLayout.list(using: config)
        return layout
    }
    
    private func configureDataSource() {
        var cellRegisteration = UICollectionView.CellRegistration<UICollectionViewCell,String> (handler: {cell, indexPath, itemIdentifier in
            var content = UIListContentConfiguration.valueCell()
            content.text = Setting.allCases[indexPath.section].list[indexPath.row]
            content.textProperties.color = .white
            content.textProperties.font = AppFont.font.name!
            
            cell.contentConfiguration = content
            
            var background = UIBackgroundConfiguration.listPlainCell()
            background.backgroundColor = .clear
            cell.backgroundConfiguration = background
            
        })
        
        // cv.
        dataSource = UICollectionViewDiffableDataSource(collectionView: settingview.collectionview, cellProvider: { collectionView, indexPath, itemIdentifier in
            let cell = collectionView.dequeueConfiguredReusableCell(using: cellRegisteration, for: indexPath, item: itemIdentifier) // indexPath, itemIdentifier ë‘˜ë‹¤ ì´ìš©í•´ì„œ cellì— ì ‘ê·¼ê°€ëŠ¥
            return cell
        })
        
        var snapShot = NSDiffableDataSourceSnapshot<Int,String>()
        snapShot.appendSections([0])
        snapShot.appendItems(Setting.content.list)
        dataSource.apply(snapShot)
        
        
    }
}


```

</details>

<details> <summary>ì´ìŠˆ6. ì•±ì‹¬ì‚¬ ë¦¬ì  ì‚¬ìœ  ( ë°ì´í„° ìˆ˜ì§‘ê³¼ì • ë¬¸ì œ)</summary><br>
ğŸ”´ ê³ ë¯¼í•œ ë¶€ë¶„ <br><br>
ì§€ë„ ìœ„ì¹˜ê¸°ë°˜ì•±ì´ë¼ì„œ ì²˜ìŒì— ë°ì´í„° ìˆ˜ì§‘ì—ì„œ ìœ„ì¹˜ë¶€ë¶„ì— ì²´í¬ë¥¼ í–ˆë‹¤.<br><br>
<img width="614" alt="ìŠ¤í¬ë¦°ìƒ· 2022-12-20 ì˜¤í›„ 9 12 44" src="https://user-images.githubusercontent.com/55547933/208664530-dfd14350-ce19-4459-af6c-b2a3f49342de.png"><br>


ğŸ”µ í•´ê²°<br><br>
ì•„ë˜ ë‚´ìš©ì€ ì‚¬ìš©ì ìœ„ì¹˜ê¶Œí•œìœ¼ë¡œ ê´‘ê³ ë‚˜ ë°ì´í„°ë¥¼ ì„œë²„ë‹¨ì— ì €ì¥í•˜ê±°ë‚˜ í•œë‹¤ëŠ” ë‚´ìš©ìœ¼ë¡œ ì²´í¬í•´ì„œ ë°œìƒ í–ˆë‹¤.
ì¦‰ ì–¸ì œ ì²´í¬ë¥¼ í•´ì•¼í•˜ëŠ”ì§€ ì•±ì‹¬ì‚¬ ê³¼ì •ì—ì„œ ì•Œìˆ˜ìˆëŠ” ë‹¨ê³„ì˜€ë‹¤.  <br>
<img width="881" alt="ìŠ¤í¬ë¦°ìƒ· 2022-12-20 ì˜¤í›„ 9 07 23" src="https://user-images.githubusercontent.com/55547933/208663549-79cdd328-efb4-4148-a536-ad25bd2259ed.png">
</details>